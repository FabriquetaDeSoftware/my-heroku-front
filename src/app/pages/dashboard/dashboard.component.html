<div nz-row [nzGutter]="24">
  <div nz-col [nzSpan]="6">
    <ng-template #nzExtraCpuCard>
      <app-cpu-icon></app-cpu-icon>
    </ng-template>

    <nz-card nzTitle="CPU" [nzExtra]="nzExtraCpuCard">
      <nz-progress
        [nzPercent]="30"
        [nzStrokeColor]="{ '0%': '#108ee9', '100%': '#87d068' }"
        nzStatus="active"
      ></nz-progress>

      <span class="text-xs text-slate-500">Uso atual do processador</span>
    </nz-card>
  </div>

  <div nz-col [nzSpan]="6">
    <ng-template #nzExtraMemoryCard>
      <app-memory-icon></app-memory-icon>
    </ng-template>

    <nz-card nzTitle="MemÃ³ria" [nzExtra]="nzExtraMemoryCard">
      <nz-progress
        [nzPercent]="55"
        [nzStrokeColor]="{ '0%': '#108ee9', '100%': '#87d068' }"
        nzStatus="active"
      ></nz-progress>

      <span class="text-xs text-slate-500">Uso atual da RAM</span>
    </nz-card>
  </div>

  <div nz-col [nzSpan]="6">
    <ng-template #nzExtraDiskCard>
      <app-disk-icon></app-disk-icon>
    </ng-template>

    <nz-card nzTitle="Disco" [nzExtra]="nzExtraDiskCard">
      <div nz-row>
        <div nz-col [nzSpan]="24">
          <nz-progress
            [nzPercent]="10"
            [nzStrokeColor]="{ '0%': '#108ee9', '100%': '#87d068' }"
            nzStatus="active"
          ></nz-progress>
        </div>
      </div>

      <span class="text-xs text-slate-500">Uso atual do disco</span>
    </nz-card>
  </div>

  <div nz-col [nzSpan]="6">
    <ng-template #nzExtraUptimeCard>
      <app-uptime-icon></app-uptime-icon>
    </ng-template>

    <nz-card nzTitle="Uptime" [nzExtra]="nzExtraUptimeCard">
      <div nz-row>
        <p class="text-xl !m-[1px] leading-none">5d 12h 30m</p>
      </div>

      <span class="text-xs text-slate-500"> Tempo ativo do servidor </span>
    </nz-card>
  </div>
</div>

<br />

<div nz-row [nzGutter]="24">
  <div nz-col [nzSpan]="24">
    <ng-template #nzExtraContainersCard>
      <app-container-icon></app-container-icon>
    </ng-template>

    <nz-card nzTitle="Containers" [nzExtra]="nzExtraContainersCard">
      <nz-card-tab>
        <nz-tabset nzSize="large" [(nzSelectedIndex)]="index">
          <nz-tab nzTitle="Todos ({{ totalCount }})"></nz-tab>
          <nz-tab nzTitle="Rodando ({{ runningCount }})"></nz-tab>
          <nz-tab nzTitle="Parado ({{ stoppedCount }})"></nz-tab>
        </nz-tabset>
      </nz-card-tab>

      <div nz-row [nzGutter]="[24, 24]">
        @for (item of filteredCards; track item.id) {
        <div nz-col [nzSpan]="8">
          <nz-ribbon
            [nzText]="statusLabel(item.status)"
            [nzColor]="statusColor(item.status)"
          >
            <nz-card>
              <p>{{ item.title }}</p>
              <p>{{ item.cpuUsage }}</p>
              <p>{{ item.memoryPercent }}</p>
              <p>{{ item.memoryUsage }}</p>
              <div nz-row [nzGutter]="8">
                @if(item.status === EStatusContainer.RUNNING) {
                <div nz-col [nzSpan]="8">
                  <button
                    nz-button
                    nzType="primary"
                    nz-flex
                    nzJustify="center"
                    class="w-full !bg-yellow-500 hover:!bg-yellow-400 focus:!bg-yellow-400 !border-0"
                  >
                    <app-stop-icon></app-stop-icon>
                  </button>
                </div>
                } @if(item.status === EStatusContainer.STOPPED) {
                <div nz-col [nzSpan]="8">
                  <button
                    nz-button
                    nzType="primary"
                    nz-flex
                    nzJustify="center"
                    class="w-full !bg-green-500 hover:!bg-green-400 focus:!bg-green-400 !border-0"
                  >
                    <app-play-icon></app-play-icon>
                  </button>
                </div>
                }

                <div nz-col [nzSpan]="8">
                  <button
                    nz-button
                    nzType="primary"
                    nz-flex
                    nzJustify="center"
                    class="w-full !bg-blue-500 hover:!bg-blue-400 focus:!bg-blue-400 !border-0"
                  >
                    <app-view-logs-icon></app-view-logs-icon>
                  </button>
                </div>

                <div nz-col [nzSpan]="8">
                  <button
                    nz-button
                    nzType="primary"
                    nz-flex
                    nzJustify="center"
                    class="w-full !bg-red-500 hover:!bg-red-400 focus:!bg-red-400 !border-0"
                  >
                    <app-delete-icon></app-delete-icon>
                  </button>
                </div>

                <!-- <app-play-icon stroke="#000000"></app-play-icon> -->
              </div>
            </nz-card>
          </nz-ribbon>
        </div>
        }
      </div>
    </nz-card>
  </div>
</div>
